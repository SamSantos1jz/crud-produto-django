<!doctype html>
<html lang="pt-BR">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <link href=" https://cdn.jsdelivr.net/npm/sweetalert2@11.12.4/dist/sweetalert2.min.css " rel="stylesheet">
    <title>Cadastrar Produto</title>
    <style>
      .form-principal{
        background-color: gray;
        padding: 20px;
        border-radius: 8px;
        color: white;
      }
    </style>
    <script>
      function verificacao(){
        event.preventDefault(); // vai impedir que o form vai ser sub
        const inputNome = document.getElementById("nome").value
        const inputPreco = document.getElementById("preco").value
        const inputQuant = document.getElementById("quantidade").value

        if (inputNome !== "" && inputPreco !== "" && inputQuant !== "") {
          Swal.fire({
            text: "Produto cadastrado com sucesso!!",
            icon: "success",
            confirmButtonText: `
              <i class="fa fa-thumbs-up"></i> OK!
            `,
            willClose: () => {
              // Após o fechamento do alerta, submete o formulário
              document.querySelector('form').submit();
            }
          });
        } else {
             Swal.fire({
              text: "Campos de texto em branco!",
              icon:"info",
              timer: 3000
             })
        }
      }
      function listarProduto(){
        window.location.href = "/estoque/listar_produto/";
      }
    </script>
  
  </head>
  <body>
  
    <div class="container">
      <h1 style="font-weight: 800;" >CAR HENRIQUE SERVIÇOS AUTOMOTIVOS</h1>
        <form onsubmit="verificacao()" class="form-principal" action="/estoque/cadastrar_produto/" method="POST"> {% csrf_token %}
            <h1 style="font-weight: 500; color: rgb(2, 2, 85);">CADASTROS DE PRODUTO</h1>
            
            <label for="">Nome </label>
            <input class="form-control" type="text" name="nome" id="nome">
            <br>
            <label for="">Preço </label>
            <input  class="form-control" type="number" name="preco" id="preco">
            <br>
            <label for="">Data de chegada</label>
            <input  class="form-control" type="text" name="validade">
            <br>
            <label for="">Quantidade</label>
            <input  class="form-control" type="number" name="quantidade" id="quantidade">
            <br>
            <input  class="btn btn-success" type="submit" value="cadastrar">
            <input class="btn btn-warning" onclick="listarProduto()" type="button" value="listar">
   
        </form>
         </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
    <script src=" https://cdn.jsdelivr.net/npm/sweetalert2@11.12.4/dist/sweetalert2.all.min.js "></script>   
  </body>
</html>